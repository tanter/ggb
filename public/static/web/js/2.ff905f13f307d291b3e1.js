webpackJsonp([2],{C05r:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("a3Yh"),r=s.n(i),a=s("TWFi"),n=s("spLH"),o={props:{usdt:String,currency:String,mark:Number,btnType:String,btnText:String,priceType:{type:Number,default:0},price:{type:String,default:""},balance:{type:String,default:"0.0000"},setPrice:{type:String,default:""},dealRate:Number},computed:{get_c_1:function(){return 1===this.mark?this.usdt:this.currency},pl:function(){return 0===this.priceType?"":"buy"===this.btnType?this.db_1_txt[6]:this.db_1_txt[7]}},watch:{setPrice:function(t,e){t!=e&&t&&(this.is_focus=!0,this.formBuy.price=t)},price:function(t,e){e||(this.is_focus=!1),this.is_focus||(this.formBuy.price=this.price)},priceType:function(t,e){e||(this.is_focus=!1),this.is_focus||(this.formBuy.price=0===this.priceType?this.price:"")}},data:function(){return{db_1_txt:this.$t("deal.db_1_txt"),is_focus:!1,slider:0,total:"0.0000",formBuy:{price:this.price,amount:"0",password:""}}},methods:{inputPrice:function(){this.slider=0;var t=this.formBuy.price||0,e=this.formBuy.amount||0;this.total=this.ffff(t*e,4)},inputAmount:function(){this.inputPrice()},focus:function(){this.is_focus=!0},blur:function(){this.formBuy.price||(this.is_focus=!1)},change:function(){var t=this.formBuy.price;if(1===this.mark){var e=this.slider/100*(this.balance/(t-0+this.dealRate/100));this.formBuy.amount=this.ffff(e,0),this.total=this.ffff(this.formBuy.amount*t,4)}else this.formBuy.amount=this.ffff(this.slider/100*this.balance,0),this.total=this.ffff(this.formBuy.amount*t,4)},ffff:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return 4,parseFloat(t).toFixed(4)},event:function(){this.formBuy.price_type=this.priceType,this.formBuy.mark=this.mark,this.formBuy.currency=this.currency,this.$emit("event",this.formBuy)}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ao-deal"},[s("div",{staticClass:"b"},[t._v(t._s(t.db_1_txt[0])+" "+t._s(t.balance)+" "+t._s(t.get_c_1))]),t._v(" "),s("el-form",{ref:"form",attrs:{model:t.formBuy,"label-width":"50px"}},[s("el-form-item",{attrs:{label:1==t.mark?t.db_1_txt[1]:t.db_1_txt[2]}},[s("el-input",{attrs:{disabled:!!t.priceType,placeholder:t.pl},on:{focus:t.focus,blur:t.blur,input:t.inputPrice},model:{value:t.formBuy.price,callback:function(e){t.$set(t.formBuy,"price",e)},expression:"formBuy.price"}},[s("template",{slot:"append"},[t._v(t._s(t.usdt))])],2)],1),t._v(" "),s("el-form-item",{attrs:{label:1==t.mark?t.db_1_txt[3]:t.db_1_txt[4]}},[s("el-input",{on:{input:t.inputAmount},model:{value:t.formBuy.amount,callback:function(e){t.$set(t.formBuy,"amount",e)},expression:"formBuy.amount"}},[s("template",{slot:"append"},[t._v(t._s(t.currency))])],2)],1)],1),t._v(" "),s("el-slider",{attrs:{step:20,"show-stops":""},on:{change:t.change},model:{value:t.slider,callback:function(e){t.slider=e},expression:"slider"}}),t._v(" "),s("div",{staticClass:"c"},[t._v(t._s(t.db_1_txt[5])+" "+t._s(t.total)+" "+t._s(t.usdt))]),t._v(" "),s("el-button",{class:t.btnType,attrs:{type:"primary"},on:{click:t.event}},[t._v(t._s(t.btnText)+t._s(t.currency))])],1)},staticRenderFns:[]};var c=s("C7Lr")(o,l,!1,function(t){s("VUuK")},null,null).exports,d=s("ONDS"),u=s("R/Ck"),_=s("gyMJ"),p=s("lGGP"),h=null,v=r()({components:{AoNav:a.a,AoDealBox:c,AoPagination:n.a,AoTv:d.a},data:function(){return{usdt:"",td_lt:this.$t("deal.td_lt"),k_line_txt:this.$t("deal.k_line_txt"),table_btn:this.$t("deal.table_btn"),index_td_l:this.$t("deal.index_td_l"),index_td_r:this.$t("deal.index_td_r"),index_td_r2:this.$t("deal.index_td_r2"),table_txt:this.$t("deal.table_txt"),currencyList:[],currencyPriceAndIncreaseIndex:0,currencyPriceAndIncreaseList:[],sellAndBuy:{currency:"",price:"",cny:"",sell:[],buy:[],high:"",low:"",ins:"",sum:""},dealOrderList:[],tabListLTitleIndex:0,tabListLTitle:this.$t("deal.tabListLTitle"),tabListLEntrustIndex:0,tabListLEntrust:this.$t("deal.tabListLEntrust"),tabListRTitleIndex:0,tabListRTitle:this.$t("deal.tabListRTitle"),wallet:{},weituoList:[],page:1,total:0,widget:null,symbol:"",setPrice:"",deal_rate:0}},mounted:function(){this.usdt=this.$store.getters.usdt,localStorage.setItem("type2","1min"),this.getInfo(),this.createTimer(),this.getPI(),this.socket()},destroyed:function(){this.widget.remove()},methods:{createWidget:function(){var t=this;this.$nextTick(function(){var e=localStorage.getItem("type2"),s=t.symbol;(t.widget=new u.a({container_id:"tradingview",width:"100%",height:535,priceScale:e,symbol:s,type:1})).create().ready()})},createTimer:function(){var t=this;h&&clearInterval(h),h=setInterval(function(){t.getWeiTuo(),t.getInfo()},2e3)},changeCueeency:function(t){this.createTimer(),this.currencyPriceAndIncreaseIndex=t,this.sellAndBuy.currency=this.currencyPriceAndIncreaseList[t].name,this.sellAndBuy.price="",this.symbol=this.currencyPriceAndIncreaseList[t].symbol,this.dealOrderList.length=0,this.widget.remove(),this.createWidget(),this.getWeiTuo(),this.getInfo()},changePrice:function(t){this.setPrice=t},getWeiTuo:function(){var t=this;if(this.$store.state.token){var e={page:this.page,currency:this.getC(),mark:this.tabListLEntrustIndex+1,wt:this.tabListLTitleIndex};Object(p.t)(e).then(function(e){t.weituoList=e.list,t.total=e.total})}},cancel:function(t,e){var s=this;Object(p.u)({id:e}).then(function(){s.weituoList[t].id==e&&(s.weituoList[t].status=2)})},createOrder:function(t){var e=this;this.$store.state.token?(t.deal_type=1,Object(p.f)(t).then(function(t){e.getInfo()})):this.$message({type:"error",message:"请先登陆"})},tabr:function(t){this.tabListRTitleIndex=t},tabl:function(t){this.tabListLTitleIndex=t,this.getWeiTuo()},tabe:function(t){this.tabListLEntrustIndex=t,this.getWeiTuo()},pagechange:function(t){this.page=t,this.getWeiTuo()},getC:function(){return this.currencyPriceAndIncreaseList.length>0?this.currencyPriceAndIncreaseList[this.currencyPriceAndIncreaseIndex].name:""},ffff:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;arguments.length>1&&void 0!==arguments[1]&&arguments[1];return 4,parseFloat(t).toFixed(4)},setValue:function(t){var e=t.split(",");e[0]==this.symbol&&(this.sellAndBuy.symbol=e[0],this.sellAndBuy.currency=e[1],this.sellAndBuy.price=e[2],this.sellAndBuy.cny=e[3],this.sellAndBuy.high=e[4],this.sellAndBuy.low=e[5],this.sellAndBuy.ins=e[6],this.sellAndBuy.sum=e[7]),this.currencyPriceAndIncreaseList.forEach(function(t){t.symbol==e[0]&&(t.price=e[2],t.increase=e[6])})},setDeal:function(t){for(var e=t.split(","),s=1,i=10,r=[];r.push({title:"卖"+i,price:e[s],number:e[s+1]}),0!=--i;s+=2);s=21;i=1;for(var a=[];a.push({title:"买"+i,price:e[s],number:e[s+1]}),11!=++i;s+=2);this.sellAndBuy.buy=a,this.sellAndBuy.sell=r},getInfo:function(){var t=this,e={currency:this.sellAndBuy.currency,type:1};e.currency&&Object(_.f)(e).then(function(e){t.wallet=e.wallet,t.deal_rate=e.deal_rate,t.lot=e.lot,t.usdt=e.usdt,t.k_line_txt[1]=e.unit})},getPI:function(){var t=this;Object(_.c)({currency:this.sellAndBuy.currency||"",type:1}).then(function(e){t.symbol=e.price[0].symbol,t.sellAndBuy.currency=e.price[0].name,t.createWidget(),t.currencyPriceAndIncreaseList=e.price,t.wallet=e.wallet||{},t.deal_rate=e.deal_rate,t.lot=e.lot,t.usdt||(t.usdt=e.usdt),t.k_line_txt[1]||(t.k_line_txt[1]=e.cny),t.setDeal(e.deal),t.setValue(e.value)})},socket:function(){__socket.emit("login","login"),this.socket_daymarket(),this.socket_market_depth(),this.socket_match_trade()},socket_daymarket:function(){var t=this;__socket.on("daymarket",function(e){if("string"==typeof e&&(e=JSON.parse(e)),"daymarket"==e.type){var s="";["symbol","currency_name","now_price","now_price","high","low","change","volume"].forEach(function(t){s+=e[t]+","}),t.setValue(s)}})},socket_market_depth:function(){var t=this;__socket.on("market_depth",function(e){if("string"==typeof e&&(e=JSON.parse(e)),"market_depth"==e.type&&e.symbol==t.symbol){var s=e.symbol,i=e.asks,r=e.bids,a=s+",";i.concat(r).forEach(function(t){a=a+t[0]+","+t[1]+","}),t.setDeal(a)}})},timestampToTime:function(t){var e=new Date(t);return e.getHours()+":"+(e.getMinutes()+":")+e.getSeconds()},socket_match_trade:function(){var t=this;__socket.on("match_trade",function(e){("string"==typeof e&&(e=JSON.parse(e)),"match_trade"==e.type&&e.symbol==t.symbol)&&e.data.forEach(function(e){20===t.dealOrderList.length&&t.dealOrderList.pop(),t.dealOrderList.unshift({class:e.direction,time:t.timestampToTime(e.ts),price:e.price,sum:e.amount})})})}}},"destroyed",function(){h&&clearInterval(h),console.log("destroyed")}),f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"deal"},[s("ao-nav",{attrs:{"ao-style":{background:"#1b2945"}}}),t._v(" "),s("div",{staticClass:"deal-content"},[s("div",{staticClass:"left"},[s("div",{staticClass:"left-t"},[s("div",{staticClass:"left-box-1"},[s("div",{staticClass:"currency"},[s("div",{staticClass:"currency-title"},[t._v(t._s(t.usdt))]),t._v(" "),s("div",{staticClass:"th flex"},[s("div",{staticClass:"td"},[t._v(t._s(t.td_lt[0]))]),t._v(" "),s("div",{staticClass:"td"},[t._v(t._s(t.td_lt[1]))]),t._v(" "),s("div",{staticClass:"td"},[t._v(t._s(t.td_lt[2]))])]),t._v(" "),s("div",{staticClass:"line"}),t._v(" "),t._l(t.currencyPriceAndIncreaseList,function(e,i){return s("div",{key:i,staticClass:"tr flex",on:{click:function(e){return t.changeCueeency(i)}}},[s("div",{staticClass:"td"},[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"td"},[t._v(t._s(t.ffff(e.price,2)))]),t._v(" "),s("div",{staticClass:"td",class:[e.increase>0?"up":"down"]},[t._v(t._s(t.ffff(e.increase,2))+"%")])])})],2)]),t._v(" "),s("div",{staticClass:"left-box-2"},[s("div",{staticClass:"k-line"},[s("div",{staticClass:"top flex"},[s("div",{staticClass:"unit"},[t._v(t._s(t.symbol))]),t._v(" "),s("div",[s("span",{staticClass:"green"},[t._v(t._s(t.sellAndBuy.price))]),t._v(" "),s("span",[t._v(t._s(t.k_line_txt[0])+" "+t._s(t.sellAndBuy.price)+" "+t._s(t.k_line_txt[1]))])]),t._v(" "),s("div",[s("span",[t._v(t._s(t.k_line_txt[2]))]),t._v(" "),s("span",{staticClass:"green fs12",class:[t.sellAndBuy.ins>0?"":"red"]},[t._v(t._s(t.sellAndBuy.ins)+"%")])]),t._v(" "),s("div",[s("span",[t._v(t._s(t.k_line_txt[3]))]),t._v(" "),s("span",[t._v(t._s(t.sellAndBuy.high))])]),t._v(" "),s("div",[s("span",[t._v(t._s(t.k_line_txt[4]))]),t._v(" "),s("span",[t._v(t._s(t.sellAndBuy.low))])]),t._v(" "),s("div",[s("span",[t._v(t._s(t.k_line_txt[5]))]),t._v(" "),s("span",[t._v(t._s(t.sellAndBuy.sum))])])]),t._v(" "),t._m(0)])])]),t._v(" "),s("div",{staticClass:"left-b"},[s("div",{staticClass:"tab"},t._l(t.tabListLTitle,function(e,i){return s("div",{key:i,staticClass:"tab-item",class:[t.tabListLTitleIndex===i?"active":""],on:{click:function(e){return t.tabl(i)}}},[t._v(t._s(e))])}),0),t._v(" "),s("div",{staticClass:"entrust"},[s("div",{staticClass:"entrust-tab"},t._l(t.tabListLEntrust,function(e,i){return s("div",{key:i,staticClass:"entrust-tab-item",class:[t.tabListLEntrustIndex===i?"active":""],on:{click:function(e){return t.tabe(i)}}},[s("span",[t._v(t._s(e))])])}),0),t._v(" "),s("div",{staticClass:"entrust-content"},[s("div",{staticClass:"th flex"},[s("div",{staticClass:"td td-2"},[t._v(t._s(t.index_td_l[0]))]),t._v(" "),s("div",{staticClass:"td td-2"},[t._v(t._s(t.index_td_l[1]))]),t._v(" "),s("div",{staticClass:"td"},[t._v(t._s(t.index_td_l[2]))]),t._v(" "),s("div",{staticClass:"td td-2"},[t._v(t._s(t.index_td_l[3]))]),t._v(" "),s("div",{staticClass:"td"},[t._v(t._s(t.index_td_l[4]))])]),t._v(" "),t._l(t.weituoList,function(e,i){return s("div",{key:i,staticClass:"tr flex"},[s("div",{staticClass:"td td-2"},[t._v(t._s(e.time))]),t._v(" "),s("div",{staticClass:"td td-2"},[t._v(t._s(e.currency))]),t._v(" "),s("div",{staticClass:"td"},[t._v(t._s(e.amount))]),t._v(" "),s("div",{staticClass:"td td-2"},[t._v(t._s(e.price))]),t._v(" "),s("div",{staticClass:"td"},[0===e.status?s("span",{staticClass:"btn",on:{click:function(s){return t.cancel(i,e.id)}}},[t._v(t._s(t.table_btn[0]))]):1===e.status?s("span",{staticClass:"text"},[t._v(t._s(t.table_txt[0]))]):s("span",{staticClass:"text"},[t._v(t._s(t.table_txt[1]))])])])}),t._v(" "),s("ao-pagination",{attrs:{total:t.total,display:5,currentPage:1,pagegroup:10},on:{pagechange:t.pagechange}})],2)])])]),t._v(" "),s("div",{staticClass:"right"},[s("div",{staticClass:"right-t"},[s("div",{staticClass:"right-t-l"},[s("div",{staticClass:"price"},[t._v(t._s(t.index_td_r[0])+" "+t._s(t.sellAndBuy.price)+t._s(t.usdt))]),t._v(" "),s("div",{staticClass:"list"},[s("div",{staticClass:"th flex"},[s("div",{staticClass:"td"},[t._v(t._s(t.index_td_r[1]))]),t._v(" "),s("div",{staticClass:"td"},[t._v(t._s(t.index_td_r[2]))]),t._v(" "),s("div",{staticClass:"td"},[t._v(t._s(t.index_td_r[3]))])]),t._v(" "),t._l(t.sellAndBuy.sell,function(e,i){return s("div",{key:i,staticClass:"tr flex",on:{click:function(s){return t.changePrice(e.price)}}},[s("div",{staticClass:"td sell"},[t._v(t._s(e.title))]),t._v(" "),s("div",{staticClass:"td"},[t._v(t._s(t.ffff(e.price,4)))]),t._v(" "),s("div",{staticClass:"td"},[t._v(t._s(t.ffff(e.number,4)))])])}),t._v(" "),s("div",{staticClass:"line"},[s("span",[t._v(t._s(t.sellAndBuy.price))]),t._v(" "),s("span",[t._v("≈ "+t._s(t.sellAndBuy.cny)+" "+t._s(t.k_line_txt[1]))])]),t._v(" "),t._l(t.sellAndBuy.buy,function(e,i){return s("div",{key:i+10,staticClass:"tr flex",on:{click:function(s){return t.changePrice(e.price)}}},[s("div",{staticClass:"td buy"},[t._v(t._s(e.title))]),t._v(" "),s("div",{staticClass:"td"},[t._v(t._s(t.ffff(e.price,4)))]),t._v(" "),s("div",{staticClass:"td"},[t._v(t._s(t.ffff(e.number,4)))])])})],2)]),t._v(" "),s("div",{staticClass:"right-t-r"},[s("div",{staticClass:"price"},[t._v(t._s(t.index_td_r2[0]))]),t._v(" "),s("div",{staticClass:"list"},[s("div",{staticClass:"th flex"},[s("div",{staticClass:"td"},[t._v(t._s(t.index_td_r2[1]))]),t._v(" "),s("div",{staticClass:"td"},[t._v(t._s(t.index_td_r2[2]))]),t._v(" "),s("div",{staticClass:"td"},[t._v(t._s(t.index_td_r2[3]))])]),t._v(" "),t._l(t.dealOrderList,function(e,i){return s("div",{key:i,staticClass:"tr flex"},[s("div",{staticClass:"td",class:e.class},[t._v(t._s(e.time))]),t._v(" "),s("div",{staticClass:"td",class:e.class},[t._v(t._s(t.ffff(e.price,8)))]),t._v(" "),s("div",{staticClass:"td",class:e.class},[t._v(t._s(t.ffff(e.sum,4)))])])})],2)])]),t._v(" "),s("div",{staticClass:"right-b"},[s("div",{staticClass:"right-b-tab"},t._l(t.tabListRTitle,function(e,i){return s("div",{key:i,staticClass:"right-b-tab-item",class:[i===t.tabListRTitleIndex?"active":""],on:{click:function(e){return t.tabr(i)}}},[t._v(t._s(e))])}),0),t._v(" "),s("div",{staticClass:"right-b-content"},[s("div",{staticClass:"right-c-l"},[s("ao-deal-box",{attrs:{"btn-type":"buy","btn-text":t.tabListLEntrust[0],mark:1,balance:t.ffff(t.wallet.balance),"price-type":t.tabListRTitleIndex,price:t.sellAndBuy.price,wallet:t.wallet,currency:t.sellAndBuy.currency,"set-price":t.setPrice,"deal-rate":t.deal_rate,usdt:t.usdt},on:{event:t.createOrder}})],1),t._v(" "),s("div",{staticClass:"right-c-r"},[s("ao-deal-box",{attrs:{"btn-type":"sell","btn-text":t.tabListLEntrust[1],mark:2,balance:t.ffff(t.wallet.positions),"price-type":t.tabListRTitleIndex,price:t.sellAndBuy.price,wallet:t.wallet,currency:t.sellAndBuy.currency,"set-price":t.setPrice,usdt:t.usdt},on:{event:t.createOrder}})],1)])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"trading-view",staticStyle:{width:"100%",height:"535px"}},[e("div",{staticClass:"ao-tv",staticStyle:{width:"100%",height:"535px"},attrs:{id:"tradingview"}})])}]};var m=s("C7Lr")(v,f,!1,function(t){s("kXa0")},null,null);e.default=m.exports},ONDS:function(t,e,s){"use strict";var i=s("R/Ck"),r=this,a={props:{priceScale:{type:String,default:"1min"},currency:{type:String,default:"EOS"}},data:function(){return{symbol:"",widget:null}},mounted:function(){this.symbol=(this.currency||"EOS")+"/USDT",this.widget=null,localStorage.setItem("type2","1min"),this.createWidget()},computed:{listenState:function(){return this.currency}},watch:{listenState:function(t,e){t!=e&&e&&(r.symbol=t+"/USDT",console.log(r))}},methods:{test:function(){console.log("test")},createWidget:function(){var t=this;this.$nextTick(function(){var e=t.priceScale,s=t.symbol;(t.widget=new i.a({container_id:"tradingview",width:"100%",height:535,priceScale:e,symbol:s})).create().ready()})}}},n={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"ao-tv",staticStyle:{width:"100%",height:"535px"},attrs:{id:"tradingview"}})},staticRenderFns:[]};var o=s("C7Lr")(a,n,!1,function(t){s("lA2k")},null,null);e.a=o.exports},"R+hy":function(t,e){},"R/Ck":function(t,e,s){"use strict";var i={getParameterByName:function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))},getOverrides:function(){var t={up:"#589065",down:"#AE4E54",bg:"#1a243b",grid:"#1E2740",cross:"#1E2740",border:"#4e5b85",text:"#61688A",areatop:"rgba(122, 152, 247, .1)",areadown:"rgba(122, 152, 247, .02)"};return{volumePaneSize:"medium","paneProperties.topMargin":"20","scalesProperties.lineColor":t.text,"scalesProperties.textColor":t.text,"paneProperties.background":t.bg,"paneProperties.vertGridProperties.color":t.grid,"paneProperties.horzGridProperties.color":t.grid,"paneProperties.crossHairProperties.color":t.cross,"paneProperties.legendProperties.showLegend":!0,"paneProperties.legendProperties.showStudyArguments":!0,"paneProperties.legendProperties.showStudyTitles":!0,"paneProperties.legendProperties.showStudyValues":!0,"paneProperties.legendProperties.showSeriesTitle":!0,"paneProperties.legendProperties.showSeriesOHLC":!0,"mainSeriesProperties.candleStyle.upColor":t.up,"mainSeriesProperties.candleStyle.downColor":t.down,"mainSeriesProperties.candleStyle.drawWick":!0,"mainSeriesProperties.candleStyle.drawBorder":!0,"mainSeriesProperties.candleStyle.borderColor":t.border,"mainSeriesProperties.candleStyle.borderUpColor":t.up,"mainSeriesProperties.candleStyle.borderDownColor":t.down,"mainSeriesProperties.candleStyle.wickUpColor":t.up,"mainSeriesProperties.candleStyle.wickDownColor":t.down,"mainSeriesProperties.candleStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.hollowCandleStyle.upColor":t.up,"mainSeriesProperties.hollowCandleStyle.downColor":t.down,"mainSeriesProperties.hollowCandleStyle.drawWick":!0,"mainSeriesProperties.hollowCandleStyle.drawBorder":!0,"mainSeriesProperties.hollowCandleStyle.borderColor":t.border,"mainSeriesProperties.hollowCandleStyle.borderUpColor":t.up,"mainSeriesProperties.hollowCandleStyle.borderDownColor":t.down,"mainSeriesProperties.hollowCandleStyle.wickColor":t.line,"mainSeriesProperties.haStyle.upColor":t.up,"mainSeriesProperties.haStyle.downColor":t.down,"mainSeriesProperties.haStyle.drawWick":!0,"mainSeriesProperties.haStyle.drawBorder":!0,"mainSeriesProperties.haStyle.borderColor":t.border,"mainSeriesProperties.haStyle.borderUpColor":t.up,"mainSeriesProperties.haStyle.borderDownColor":t.down,"mainSeriesProperties.haStyle.wickColor":t.border,"mainSeriesProperties.haStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.barStyle.upColor":t.up,"mainSeriesProperties.barStyle.downColor":t.down,"mainSeriesProperties.barStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.barStyle.dontDrawOpen":!1,"mainSeriesProperties.lineStyle.color":t.border,"mainSeriesProperties.lineStyle.linewidth":1,"mainSeriesProperties.lineStyle.priceSource":"close","mainSeriesProperties.areaStyle.color1":t.areatop,"mainSeriesProperties.areaStyle.color2":t.areadown,"mainSeriesProperties.areaStyle.linecolor":t.border,"mainSeriesProperties.areaStyle.linewidth":1,"mainSeriesProperties.areaStyle.priceSource":"close"}},getDisabledFeatures:function(){return["left_toolbar","header_saveload","compare_symbol","display_market_status","go_to_date","header_chart_type","header_compare","header_interval_dialog_button","header_resolutions","header_screenshot","header_symbol_search","header_undo_redo","legend_context_menu","show_hide_button_in_legend","show_interval_dialog_on_key_press","snapshot_trading_drawings","symbol_info","timeframes_toolbar","use_localstorage_for_settings","volume_force_overlay","widget_logo"]},getEnabledFeatures:function(){return["dont_show_boolean_study_arguments","hide_last_na_study_output","move_logo_to_main_pane","same_data_requery","side_toolbar_in_fullscreen_mode","disable_resolution_rebuild","header_indicators"]},buttonArr:[{value:"1",period:"1m",text:"Time",chartType:3,type:"1min"},{value:"1",period:"1m",text:"1min",chartType:1,type:"1min"},{value:"5",period:"5m",text:"5min",chartType:1,type:"5min"},{value:"15",period:"15m",text:"15min",chartType:1,type:"15min"},{value:"30",period:"30m",text:"30min",chartType:1,type:"30min"},{value:"60",period:"60分钟",text:"1hour",chartType:1,type:"60min"},{value:"1D",period:"1D",text:"1day",chartType:1,type:"1day"},{value:"1W",period:"1W",text:"1week",chartType:1,type:"1week"}]},r=s("rVsN"),a=s.n(r),n=function(t){var e=t,s={DataPulseUpdater:function(t,e){this._datafeed=t,this._subscribers={},this._requestsPending=0;var s=this;void 0!==e&&e>0&&setInterval(function(){if(!(s._requestsPending>0))for(var t in s._subscribers){var e=s._subscribers[t],i=e.resolution,r=parseInt((new Date).valueOf()/1e3),a=r-s.periodLengthSeconds(i,10);s._requestsPending++,function(e){s._datafeed.getBars(e.symbolInfo,i,a,r,function(i){if(s._requestsPending--,s._subscribers.hasOwnProperty(t)&&0!==i.length){var r=i[i.length-1];if(isNaN(e.lastBarTime)||!(r.time<e.lastBarTime)){var a=e.listeners;if(!isNaN(e.lastBarTime)&&r.time>e.lastBarTime){if(i.length<2)throw new Error("Not enough bars in history for proper pulse update. Need at least 2.");for(var n=i[i.length-2],o=0;o<a.length;++o)a[o](n)}for(e.lastBarTime=r.time,o=0;o<a.length;++o)a[o](r)}}},function(){s._requestsPending--})}(e)}},e)}};return s.DataPulseUpdater.prototype.periodLengthSeconds=function(t,e){return 24*("D"===t?e:"M"===t?31*e:"W"===t?7*e:e*t/1440)*60*60},s.DataPulseUpdater.prototype.subscribeDataListener=function(t,e,s,i){this._datafeed._logMessage("Subscribing "+i),this._subscribers.hasOwnProperty(i)||(this._subscribers[i]={symbolInfo:t,resolution:e,lastBarTime:NaN,listeners:[]}),this._subscribers[i].listeners.push(s)},s.DataPulseUpdater.prototype.unsubscribeDataListener=function(t){this._datafeed._logMessage("Unsubscribing "+t),delete this._subscribers[t]},s.Container=function(t){this._configuration={supports_search:!1,supports_group_request:!1,supported_resolutions:["1","5","15","30","60","1D","1W"],supports_marks:!0,supports_timescale_marks:!0,exchanges:["gh"]},this._barsPulseUpdater=new s.DataPulseUpdater(this,t||1e4),this._enableLogging=!0,this._callbacks={},this._initializationFinished=!0,this._fireEvent("initialized"),this._fireEvent("configuration_ready")},s.Container.prototype._fireEvent=function(t,e){if(this._callbacks.hasOwnProperty(t)){for(var s=this._callbacks[t],i=0;i<s.length;++i)s[i](e);this._callbacks[t]=[]}},s.Container.prototype._logMessage=function(t){this._enableLogging&&new Date},s.Container.prototype.on=function(t,e){return this._callbacks.hasOwnProperty(t)||(this._callbacks[t]=[]),this._callbacks[t].push(e),this},s.Container.prototype.onReady=function(t){var e=this;this._configuration?setTimeout(function(){t(e._configuration)},0):this.on("configuration_ready",function(){t(e._configuration)})},s.Container.prototype.resolveSymbol=function(t,s,i){this._logMessage("GOWNO :: resolve symbol "+t),a.a.resolve().then(function(){s({name:e.symbol,timezone:"Asia/Shanghai",pricescale:e.priceScale,minmov:1,minmov2:0,ticker:e.symbol,description:"",type:"bitcoin",volume_precision:8,has_intraday:!0,has_weekly_and_monthly:!0,has_no_volume:!1,session:"24x7",supported_resolutions:["1","5","15","30","60","1D","1W"]})})},s.Container.prototype.getBars=function(t,s,i,r,a,n){-1==s.indexOf("D")&&-1==s.indexOf("W")&&-1==s.indexOf("M")?s+="min":-1==s.indexOf("W")&&-1==s.indexOf("M")||(s=s);var o=null;if(__socket.__bh){var l=t.name.replace("/","").toLowerCase();o=e.next_timeshar_url+"?symbol="+l+"&period="+s}else o=e.new_timeshar_url+"?from="+i+"&to="+r+"&symbol="+t.name+"&period="+s+"&type="+e.type;$.ajax({url:o,type:"get",success:function(e){__socket.__bh?("ok"==e.status&&e.data&&e.data.length>0&&(e.data.forEach(function(e,i){e.time=1e3*e.id,e["base-currency"]=t.name.split("/")[0],e.period=s,e["quote-currency"]=t.name.split("/")[1],e.volume=e.amount,e.open=Number(e.open),e.close=Number(e.close),e.high=Number(e.high),e.low=Number(e.low)}),a(e.data.reverse(),{noData:!1}),a([],{noData:!0})),e.data&&"ok"!=e.status||a([],{noData:!0})):(1==e.code&&e.data&&e.data.length>0&&(e.data.forEach(function(t,e){t.open=Number(t.open),t.close=Number(t.close),t.high=Number(t.high),t.low=Number(t.low)}),a(e.data,{noData:!1}),a([],{noData:!0})),e.data&&-1!=e.status||a([],{noData:!0})),e.data&&0==e.data.length&&a([],{noData:!0})}})},s.Container.prototype.subscribeBars=function(t,s,i,r,a){e.connect(i)},s.Container.prototype.unsubscribeBars=function(t){this._barsPulseUpdater.unsubscribeDataListener(t)},new s.Container},o=null,l="http://www.blesintex.com/";function c(t){var e=t.container_id,s=t.width,i=t.height,r=t.priceScale,a=t.symbol,n=t.type,c=void 0===n?2:n;this.priceScale=r,this.symbol=a,this.widget=null,this.container_id=e,this.width=s,this.height=i,this.type=c,o&&clearInterval(o),this.next_timeshar_url=l+"web/new_timeshar",this.new_timeshar_url="http://jyxt.ys.13mv.com/api/currency/new_timeshar"}c.prototype.connect=function(t){var e=this,s=localStorage.getItem("type2");__socket.emit("tv",s),__socket.on("kline",function(i){if("string"==typeof i&&(i=JSON.parse(i)),"kline"==i.type&&i.symbol==e.symbol&&i.period==s){var r={};r.open=Number(i.open),r.low=Number(i.low),r.high=Number(i.high),r.close=Number(i.close),r.volume=Number(i.volume),r.time=Number(i.time),t(r)}})},c.prototype.create=function(){console.log("create--------------------");return this.widget=new TradingView.widget({symbol:this.symbol,interval:1,debug:!1,fullscreen:!1,autosize:!0,container_id:this.container_id,datafeed:n(this),library_path:"/static/tradeview/charting_library/",custom_css_url:"/static/tradeview/new.css",locale:"zh",width:this.width,height:this.height,drawings_access:{type:"black",tools:[{name:"Regression Trend"}]},disabled_features:i.getDisabledFeatures(),enabled_features:i.getEnabledFeatures(),charts_storage_api_version:"1.1",toolbar_bg:"transparent",timezone:"Asia/Shanghai",studies_overrides:{"volume.precision":"1000"},overrides:i.getOverrides()}),this},c.prototype.ready=function(){var t=this,e=this.widget;e.MAStudies=[],e.selectedIntervalButton=null,e.onChartReady(function(){e.chart().createStudy("Moving Average",!1,!0,[15,"close",0],null,{"Plot.color":"#e843da"}),e.chart().createStudy("MA Cross",!1,!1,[10,20]);i.buttonArr.forEach(function(t,i){var r=$(e.createButton());r.attr("title",t.text).addClass("my2").text(t.text),"1分钟"==t.text&&(r.css({"background-color":"#2c3b59",color:"#c7cce6"}),localStorage.setItem("tim","1"),localStorage.setItem("type2","1min")),r.on("click",function(i){$(this).parents(".wrap-3tiHesTk-").children().find(".my2").removeClass("mydate").removeAttr("style"),s(i,t.value,t.type),e.chart().setChartType(t.chartType)})});var s=function(s,i,r){t.clearTimer(),localStorage.setItem("tim",i),localStorage.setItem("type2",r),e.chart().setResolution(i,function(){}),$(s.target).addClass("mydate").closest("div.space-single").siblings("div.space-single").find("div.button").removeClass("mydate")}})},c.prototype.update=function(t){for(var e in t)this[e]=t[e];this.clearTimer(),this.remove(),this.create()},c.prototype.clearTimer=function(){o&&clearInterval(o)},c.prototype.remove=function(){this.clearTimer(),this.widget&&(this.widget.remove(),this.widget=null)};e.a=c},VUuK:function(t,e){},kXa0:function(t,e){},lA2k:function(t,e){},spLH:function(t,e,s){"use strict";var i={data:function(){return{first:this.$t("pasination.first"),prev:this.$t("pasination.prev"),next:this.$t("pasination.next"),last:this.$t("pasination.last"),no_data:this.$t("pasination.no_data"),current:this.currentPage}},props:{total:{type:Number,default:0},display:{type:Number,default:6},currentPage:{type:Number,default:1},pagegroup:{type:Number,default:5,coerce:function(t){return(t=t>0?t:5)%2==1?t:t+1}}},computed:{page:function(){return Math.ceil(this.total/this.display)},grouplist:function(){var t=this.page,e=[],s=[],i=Math.floor(this.pagegroup/2),r=this.current;if(t<=this.pagegroup){for(;t--;)e.push({text:this.page-t,val:this.page-t});return e}for(;t--;)e.push(this.page-t);var a=e.indexOf(r);a<i&&(r=r+i-a),this.current>this.page-i&&(r=this.page-i),e=e.splice(r-i-1,this.pagegroup);do{var n=e.shift();s.push({text:n,val:n})}while(e.length);return s}},methods:{setCurrent:function(t){this.current!=t&&t>0&&t<this.page+1&&(this.current=t,this.$emit("pagechange",this.current))}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",[s("ul",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"pagination"},[s("li",{staticClass:"a",class:{disabled:1==t.current}},[s("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.setCurrent(1)}}},[t._v(t._s(t.first))])]),t._v(" "),s("li",{staticClass:"b",class:{disabled:1==t.current}},[s("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.setCurrent(t.current-1)}}},[t._v(t._s(t.prev))])]),t._v(" "),t._l(t.grouplist,function(e,i){return s("li",{key:i++,class:{active:t.current==e.val}},[s("a",{attrs:{href:"javascript:;"},on:{click:function(s){return t.setCurrent(e.val)}}},[t._v(t._s(e.text))])])}),t._v(" "),s("li",{staticClass:"b",class:{disabled:t.current==t.page}},[s("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.setCurrent(t.current+1)}}},[t._v(t._s(t.next))])]),t._v(" "),s("li",{staticClass:"a",class:{disabled:t.current==t.page}},[s("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.setCurrent(t.page)}}},[t._v(t._s(t.last))])])],2),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.total>0,expression:"!total > 0"}],staticClass:"no-data"},[t._v(t._s(t.no_data))])])},staticRenderFns:[]};var a=s("C7Lr")(i,r,!1,function(t){s("R+hy")},null,null);e.a=a.exports}});
//# sourceMappingURL=2.ff905f13f307d291b3e1.js.map