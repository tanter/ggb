webpackJsonp([18],{ORSB:function(t,s){},Quw4:function(t,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=o("TWFi"),i=o("gyMJ"),n={components:{AoNav:e.a},data:function(){return{dlIndex:0,dl:this.$t("login.dl"),form:{prefix:"",account:"",password:""},countryTelShow:!1,phoneList:[]}},mounted:function(){var t=this,s=this.$route.query;s.account&&(this.dlIndex=parseInt(s.index),this.form.prefix=s.prefix,this.form.account=s.account,this.form.password=s.password),Object(i.g)().then(function(s){t.form.prefix=s[0].prefix,t.phoneList=s})},methods:{login:function(){var t=this;this.form.account&&this.form.password||this.$message({message:this.$t("login.message"),type:"error"}),this.loading=!0,this.form.index=this.dlIndex,this.$store.dispatch("login",this.form).then(function(){t.$router.push({path:"/index"})}).catch(function(){}).finally(function(){t.loading=!1})},path:function(t){this.$router.push({path:t})},showPhone:function(){this.countryTelShow=!this.countryTelShow},choosePhone:function(t){this.form.prefix=this.phoneList[t].prefix,this.showPhone()},changeType:function(t){this.dlIndex=t,this.countryTelShow&&(this.countryTelShow=!1)}}},a={render:function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"login"},[o("ao-nav",{attrs:{"ao-style":{background:"#1b2945"}}}),t._v(" "),o("div",{staticClass:"content"},[o("div",{staticClass:"content-bg"},[o("div",{staticClass:"content-box"},[o("div",{staticClass:"content-list"},[o("div",{staticClass:"tabbar"},t._l(t.dl,function(s,e){return o("div",{key:e,staticClass:"tabbar-item",class:[e===t.dlIndex?"active":""],on:{click:function(s){return t.changeType(e)}}},[t._v(t._s(s))])}),0),t._v(" "),o("div",{staticClass:"account"},[o("el-form",{ref:"loginForm",attrs:{model:t.form}},[o("el-form-item",{attrs:{prop:"pass"}},[o("el-row",{staticClass:"text"},[t._v(t._s(t.$t("login.account")))]),t._v(" "),o("el-row",{staticClass:"el-input-border",staticStyle:{display:"flex"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:0===t.dlIndex,expression:"dlIndex === 0"}],staticClass:"el-input-choose",on:{click:t.showPhone}},[o("div",{staticClass:"el-value"},[t._v(t._s(t.form.prefix))]),t._v(" "),o("i",{staticClass:"el-icon el-icon-caret-bottom"})]),t._v(" "),o("el-input",{staticClass:"el-input-row",attrs:{type:"text","auto-complete":"off"},model:{value:t.form.account,callback:function(s){t.$set(t.form,"account",s)},expression:"form.account"}}),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.countryTelShow,expression:"countryTelShow"}],staticClass:"el-list-box"},t._l(t.phoneList,function(s,e){return o("div",{key:e,staticClass:"el-list-box-item",on:{click:function(s){return t.choosePhone(e)}}},[o("span",{staticClass:"country"},[t._v(t._s(s.country))]),t._v(" "),o("span",{staticClass:"pre"},[t._v(t._s(s.prefix))])])}),0)],1)],1),t._v(" "),o("el-form-item",{attrs:{prop:"checkPass"}},[o("el-row",{staticClass:"text"},[t._v(t._s(t.$t("login.password")))]),t._v(" "),o("el-input",{staticClass:"el-input-row",attrs:{type:"password","auto-complete":"off"},model:{value:t.form.password,callback:function(s){t.$set(t.form,"password",s)},expression:"form.password"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.login}},[t._v(t._s(t.$t("login.login")))]),t._v(" "),o("span",{staticClass:"forgetpassword",on:{click:function(s){return t.path("/forgetpwd")}}},[t._v(t._s(t.$t("login.forgetpwd")))])],1)],1),t._v(" "),o("div",{staticClass:"bz"},[t._l(t.$t("login.bz"),function(s,e){return o("p",{key:e},[t._v(t._s(s))])}),t._v(" "),o("p",{staticClass:"forgetpassword",on:{click:function(s){return t.path("/register")}}},[t._v(t._s(t.$t("login.register")))])],2)],1)])])])])],1)},staticRenderFns:[]};var r=o("C7Lr")(n,a,!1,function(t){o("ORSB")},null,null);s.default=r.exports}});
//# sourceMappingURL=18.87f5cb26f7457ea39139.js.map