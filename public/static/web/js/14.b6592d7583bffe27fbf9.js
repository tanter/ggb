webpackJsonp([14],{"4Mae":function(t,e){},c2lw:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("TWFi"),i=s("gyMJ"),r="jyxt_web_pid_20190709010101",a={components:{AoNav:o.a},data:function(){return{dlIndex:0,dl:this.$t("register.dl"),form:{country:"",prefix:"",account:"",password:"",password_again:"",code:"",invitation_code:""},countryShow:!1,countryTelShow:!1,phoneList:[],pidDisabled:!1,btn_get_code:null,code_unit:"",r_code:0,sendCodeFlag:!1,checked:!1}},mounted:function(){var t=this;this.btn_get_code2=this.$t("register.code_btn"),this.btn_get_code=this.btn_get_code2,this.code_unit=this.$t("register.code_unit");var e=this.$route.query.p,s=this.$route.query.v;s&&(this.form.account=s,this.dlIndex=s.search("@")>-1?1:0),e||(e=sessionStorage.getItem(r)),this.form.invitation_code="",e&&(this.form.invitation_code=e,this.pidDisabled=!0,sessionStorage.setItem(r,e)),Object(i.g)().then(function(e){t.form.country=e[0].country,t.form.prefix=e[0].prefix,t.phoneList=e})},methods:{error:function(t){this.$message({message:this.$t("register."+t),type:"error"})},register:function(){var t=this;console.log(this.form),this.form.account?this.form.code?0!=this.r_code&&this.r_code==this.form.code?this.form.password&&this.form.password_again?this.form.password==this.form.password_again?this.form.invitation_code?this.checked?(this.form.index=this.dlIndex,this.form.type="register",Object(i.j)(this.form).then(function(e){t.$router.push({path:"/login",query:{index:t.dlIndex,prefix:t.form.prefix,account:t.form.account,password:t.form.password}})}).catch(function(t){console.log(t)})):this.error("xy_no_checked"):this.error("invitation_code_no_data"):this.error("password_no_equality"):this.error("password_no_data"):this.error("code_no_equality"):this.error("code_no_data"):this.error("account_no_data")},getCode:function(){var t=this;if(!this.sendCodeFlag)if(this.form.account){this.sendCodeFlag=!0;var e={account:this.form.account,index:this.dlIndex,prefix:this.form.prefix,country:this.form.country};Object(i.b)(e).then(function(e){var s=e.code,o=void 0===s?0:s;t.r_code=o,console.log(t.r_code),t.btn_get_code=60+t.code_unit;var i=60,r=setInterval(function(){i--,t.btn_get_code=i+t.code_unit,0===i&&(clearInterval(r),t.btn_get_code=t.btn_get_code2,t.sendCodeFlag=!1)},1e3)}).catch(function(){t.sendCodeFlag=!1})}else this.$message({message:this.$t("register.code_no_data"),type:"error"})},showCountry:function(){this.countryShow=!this.countryShow,this.countryTelShow=!1},showPhone:function(){this.countryTelShow=!this.countryTelShow,this.countryShow=!1},choosePhone:function(t,e){this.form[e]=this.phoneList[t][e],"prefix"===e?this.showPhone():this.showCountry()},changeType:function(t){this.dlIndex=t,this.countryTelShow&&(this.countryTelShow=!1)},path:function(){this.$router.push({path:"/text",query:{id:3}})}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"register"},[s("ao-nav",{attrs:{"ao-style":{background:"#1b2945"}}}),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"content-bg"},[s("div",{staticClass:"content-box"},[s("div",{staticClass:"content-list"},[s("div",{staticClass:"title"},[t._v(t._s(t.$t("register.title")))]),t._v(" "),s("div",{staticClass:"tabbar"},t._l(t.dl,function(e,o){return s("div",{key:o,staticClass:"tabbar-item",class:[o===t.dlIndex?"active":""],on:{click:function(e){return t.changeType(o)}}},[t._v(t._s(e))])}),0),t._v(" "),s("div",{staticClass:"account"},[s("el-form",{ref:"loginForm",attrs:{model:t.form}},[s("el-form-item",{attrs:{prop:"pass"}},[s("el-row",{staticClass:"text"},[t._v(t._s(t.$t("register.country")))]),t._v(" "),s("el-row",{staticClass:"el-input-border",staticStyle:{display:"flex"}},[s("div",{staticClass:"el-input-choose",staticStyle:{flex:"1"},on:{click:t.showCountry}},[s("div",{staticClass:"el-value"},[t._v(t._s(t.form.country))]),t._v(" "),s("i",{staticClass:"el-icon el-icon-caret-bottom"})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.countryShow,expression:"countryShow"}],staticClass:"el-list-box"},t._l(t.phoneList,function(e,o){return s("div",{key:o,staticClass:"el-list-box-item",on:{click:function(e){return t.choosePhone(o,"country")}}},[s("span",{staticClass:"country"},[t._v(t._s(e.country))]),t._v(" "),s("span",{staticClass:"pre"},[t._v(t._s(e.zh))])])}),0)])],1),t._v(" "),s("el-form-item",{attrs:{prop:"pass"}},[s("el-row",{staticClass:"text"},[t._v(t._s(t.$t("register.account")))]),t._v(" "),s("el-row",{staticClass:"el-input-border",staticStyle:{display:"flex"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:0===t.dlIndex,expression:"dlIndex === 0"}],staticClass:"el-input-choose",on:{click:t.showPhone}},[s("div",{staticClass:"el-value"},[t._v(t._s(t.form.prefix))]),t._v(" "),s("i",{staticClass:"el-icon el-icon-caret-bottom"})]),t._v(" "),s("el-input",{staticClass:"el-input-row",attrs:{type:"text","auto-complete":"off"},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.countryTelShow,expression:"countryTelShow"}],staticClass:"el-list-box el-list-box-2"},t._l(t.phoneList,function(e,o){return s("div",{key:o,staticClass:"el-list-box-item",on:{click:function(e){return t.choosePhone(o,"prefix")}}},[s("span",{staticClass:"country"},[t._v(t._s(e.country))]),t._v(" "),s("span",{staticClass:"pre"},[t._v(t._s(e.prefix))])])}),0)],1)],1),t._v(" "),s("el-form-item",{attrs:{prop:"checkPass"}},[s("el-row",{staticClass:"text"},[t._v(t._s(t.$t("register.code_text")))]),t._v(" "),s("el-row",{staticClass:"el-input-border",staticStyle:{display:"flex"}},[s("el-input",{staticClass:"el-input-row",attrs:{type:"text","auto-complete":"off"},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}}),t._v(" "),s("div",{staticClass:"el-input-choose el-input-choose-code"},[s("div",{staticClass:"el-value",on:{click:t.getCode}},[t._v(t._s(t.btn_get_code))])])],1)],1),t._v(" "),s("el-form-item",{attrs:{prop:"checkPass"}},[s("el-row",{staticClass:"text"},[t._v(t._s(t.$t("register.password_text")))]),t._v(" "),s("el-input",{staticClass:"el-input-row",attrs:{type:"password","auto-complete":"off"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),s("el-form-item",{attrs:{prop:"checkPass"}},[s("el-row",{staticClass:"text"},[t._v(t._s(t.$t("register.password_again_text")))]),t._v(" "),s("el-input",{staticClass:"el-input-row",attrs:{type:"password","auto-complete":"off"},model:{value:t.form.password_again,callback:function(e){t.$set(t.form,"password_again",e)},expression:"form.password_again"}})],1),t._v(" "),s("el-form-item",{attrs:{prop:"checkPass"}},[s("el-row",{staticClass:"text"},[t._v(t._s(t.$t("register.pid_text")))]),t._v(" "),s("el-input",{staticClass:"el-input-row",attrs:{disabled:t.pidDisabled,type:"text","auto-complete":"off",placeholder:t.$t("register.pid_pl")},model:{value:t.form.invitation_code,callback:function(e){t.$set(t.form,"invitation_code",e)},expression:"form.invitation_code"}})],1),t._v(" "),s("el-form-item",[s("el-checkbox",{attrs:{label:t.$t("register.agree"),name:"type"},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}}),t._v(" "),s("span",{staticClass:"xy",on:{click:t.path}},[t._v("<<"+t._s(t.$t("register.xy"))+">>")])],1),t._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:t.register}},[t._v(t._s(t.$t("register.register_btn")))])],1)],1),t._v(" "),s("div",{staticClass:"bz"},t._l(t.$t("register.bz"),function(e,o){return s("p",{key:o},[t._v(t._s(e))])}),0)],1)])])])])],1)},staticRenderFns:[]};var c=s("C7Lr")(a,n,!1,function(t){s("4Mae")},null,null);e.default=c.exports}});
//# sourceMappingURL=14.b6592d7583bffe27fbf9.js.map